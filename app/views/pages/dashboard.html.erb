<%= render "banner" %>

<div class="container mt-4">
  <%# MOOD BOX %>
  <div data-controller="mood" >
    <div class="moodcard" data-mood-target="moodcard">
      <% if @mood.empty? %>
        <%= render "mood" %>
      <% else %>
        <%= render @mood.first.mood %>
      <% end %>
    </div>
  </div>

  <%# CHART %>
  <div>
    <%= render partial: "shared/mood_chart" %>
  </div>

  <%# CALENDAR AND MAP side-by-side %>
  <div class="d-flex justify-content-between mt-4">
    <div class="container">
      <%= month_calendar do |date| %>
        <%= date.day %>
      <% end %>
    </div>

    <div style="width:800px; height:467px"
      data-controller="map"
      id="map-dashboard"
      data-map-markers-value="<%= @markers.to_json %>"
      data-map-api-key-value = "<%= ENV['MAPBOX_API_KEY'] %>">
    </div>
  </div>
</div>
